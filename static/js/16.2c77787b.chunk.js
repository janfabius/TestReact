(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{205:function(e,t,a){"use strict";var n=a(11),l=a(1),r=a.n(l),c=(a(27),a(36)),i=a(237),o=a(238),s=a(58),u=c.a.create("page"),m=function(e){var t=e.title,a=e.breadcrumbs,l=e.tag,c=e.className,m=e.children,f=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),d=u.b("px-3",c);return r.a.createElement(l,Object.assign({className:d},f),r.a.createElement("div",{className:u.e("header")},t&&"string"===typeof t?r.a.createElement(s.a,{type:"h1",className:u.e("title")},t):t,a&&r.a.createElement(i.a,{className:u.e("breadcrumb")},r.a.createElement(o.a,null,"Home"),a.length&&a.map(function(e,t){var a=e.name,n=e.active;return r.a.createElement(o.a,{key:t,active:n},a)}))),m)};m.defaultProps={tag:"div",title:""},t.a=m},207:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=a(197),c=a(198),i=a(181),o=a(182),s=a(183);t.a=function(e){return l.a.createElement(r.a,null,l.a.createElement(c.a,{md:6},l.a.createElement(i.a,null,l.a.createElement(o.a,{for:"from"},"Da"),l.a.createElement(s.a,{type:"date",name:"from",id:"from",placeholder:"Data inizio",defaultValue:e.fromStartDate,onChange:function(t){return e.onChange(t.target.value,"from")}}))),l.a.createElement(c.a,{md:6},l.a.createElement(i.a,null,l.a.createElement(o.a,{for:"exampleDate"},"A"),l.a.createElement(s.a,{type:"date",name:"date",id:"to",placeholder:"Data Fine",defaultValue:e.toStartDate,onChange:function(t){return e.onChange(t.target.value,"to")}}))))}},208:function(e,t,a){"use strict";var n=a(12),l=a(13),r=a(15),c=a(14),i=a(16),o=a(1),s=a.n(o),u=a(212),m=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){u.isMobile&&document.querySelector(".cr-sidebar").classList.toggle("cr-sidebar--open")}}]),t}(s.a.Component);t.a=m},209:function(e,t,a){"use strict";var n=a(1),l=a.n(n);t.a=function(e){return l.a.createElement("tr",null,l.a.createElement("td",{colSpan:e.colspan},e.children||"Nessun dato presente"))}},210:function(e,t,a){"use strict";t.a=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")}},213:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=a(198),c=a(181),i=a(182),o=a(211),s=a(10);t.a=function(e){return l.a.createElement(r.a,{md:6},l.a.createElement(c.a,null,l.a.createElement(i.a,{for:"exampleUrl"},"Filiale"),l.a.createElement(o.a,{isClearable:!0,cacheOptions:!0,loadOptions:function(e){var t="affiliates".concat(e?"?filter[text]="+e:"");return s.a.get(t).then(function(e){return e.data.data.map(function(e){return{value:e.id,label:e.attributes.name}})}).catch(function(e){console.log("some error",e)})},defaultOptions:!0,onChange:function(t){return function(t){var a=t?t.value:null;e.onChange(a,"affiliate_id")}(t)}})))}},438:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(13),r=a(15),c=a(14),i=a(16),o=a(205),s=a(0),u=a.n(s),m=a(1),f=a.n(m),d=a(19),h=a(197),b=a(198),E=a(172),p=a(177),g=a(173),v=a(192),O=a(178),y=a(427),C=a(30),S=a(207),j=a(213),D=a(48),w=a.n(D),k=a(42),F=a(209),N=a(210),x=a(208),A=new Date,T=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={filters:{affiliate_number:null,from:Object(N.a)(new Date(A.getFullYear(),A.getMonth(),1)),to:Object(N.a)(new Date)},touched:!1},a.handleSubmit=function(){var e=a.state.searchClicked;a.setState({searchClicked:!e,touched:!0}),a.props.onLoadStats(null,null,a.state.filters,["affiliate"],null)},a.handleFilterChange=function(e,t){var n=a.state.filters;n[t]=e,a.setState({filters:n})},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=0,a=f.a.createElement(F.a,{colspan:7}),n=this.state.touched,l=this.props,r=l.stats,c=l.loading,i=l.error,s=l.affiliates;return!1===c&&!1===i&&null!==r&&!0===n&&(a=r.map(function(e){return t+=e.attributes.import,f.a.createElement("tr",null,f.a.createElement("td",null,s[e.attributes.affiliate_number].name),f.a.createElement("td",null,e.attributes.cash_desk_number),f.a.createElement("td",null,e.attributes.operator_code),f.a.createElement("td",null,e.attributes.room),f.a.createElement("td",null,e.attributes.table),f.a.createElement("td",null,e.attributes.import),f.a.createElement("td",null,e.attributes.date))})),f.a.createElement(o.a,{title:"Documenti annullati",breadcrumbs:[{name:"documenti annullati",active:!0}]},f.a.createElement(h.a,null,f.a.createElement(b.a,null,f.a.createElement(E.a,{className:"mb-3"},f.a.createElement(p.a,null,"Filtri"),f.a.createElement(g.a,null,f.a.createElement(v.a,{onSubmit:this.handleSubmit},f.a.createElement(S.a,{onChange:this.handleFilterChange.bind(this),fromStartDate:this.state.filters.from,toStartDate:this.state.filters.to}),f.a.createElement(j.a,{onChange:this.handleFilterChange.bind(this)}),f.a.createElement(h.a,null,f.a.createElement(b.a,null,f.a.createElement(O.a,{color:"primary",disabled:this.props.loading&&this.state.searchClicked,onClick:this.handleSubmit},"Cerca")))))),f.a.createElement(E.a,{className:"mb-3"},f.a.createElement(g.a,null,f.a.createElement(y.a,{responsive:!0},f.a.createElement("thead",null,f.a.createElement("tr",null,f.a.createElement("th",null,"Filiale"),f.a.createElement("th",null,"Cassa"),f.a.createElement("th",null,"Operatore"),f.a.createElement("th",null,"Sala"),f.a.createElement("th",null,"Tavolo"),f.a.createElement("th",null,"Totale"),f.a.createElement("th",null,"Data"))),f.a.createElement("tbody",null,a),f.a.createElement("tfoot",null,f.a.createElement("tr",null,f.a.createElement("th",{colSpan:"5"},"TOTALE:"),f.a.createElement("td",null,t.toFixed(2))))))))),f.a.createElement(w.a,{dismissible:!1,ref:function(t){return e.notificationSystem=t},style:k.d}))}}]),t}(x.a);T.contextTypes={store:u.a.object},T.propTypes={notifications:u.a.array,stats:u.a.array,affiliates:u.a.object,loading:u.a.bool,error:u.a.bool,pdfAvaiable:u.a.bool};t.default=Object(d.connect)(function(e){return{stats:e.statistics.cancelledSaleStatistics,affiliates:e.statistics.affiliates,loading:e.statistics.loading,error:e.statistics.error,pdfAvaiable:e.statistics.pdfAvaiable}},function(e){return{onLoadStats:function(t,a,n,l,r){return e(C.e(t,a,n,l,r))}}})(T)}}]);
//# sourceMappingURL=16.2c77787b.chunk.js.map