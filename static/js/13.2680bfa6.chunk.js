(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{205:function(e,a,t){"use strict";var n=t(11),r=t(1),l=t.n(r),i=(t(27),t(36)),s=t(237),c=t(238),o=t(58),u=i.a.create("page"),p=function(e){var a=e.title,t=e.breadcrumbs,r=e.tag,i=e.className,p=e.children,m=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),h=u.b("px-3",i);return l.a.createElement(r,Object.assign({className:h},m),l.a.createElement("div",{className:u.e("header")},a&&"string"===typeof a?l.a.createElement(o.a,{type:"h1",className:u.e("title")},a):a,t&&l.a.createElement(s.a,{className:u.e("breadcrumb")},l.a.createElement(c.a,null,"Home"),t.length&&t.map(function(e,a){var t=e.name,n=e.active;return l.a.createElement(c.a,{key:a,active:n},t)}))),p)};p.defaultProps={tag:"div",title:""},a.a=p},207:function(e,a,t){"use strict";var n=t(1),r=t.n(n),l=t(197),i=t(198),s=t(181),c=t(182),o=t(183);a.a=function(e){return r.a.createElement(l.a,null,r.a.createElement(i.a,{md:6},r.a.createElement(s.a,null,r.a.createElement(c.a,{for:"from"},"Da"),r.a.createElement(o.a,{type:"date",name:"from",id:"from",placeholder:"Data inizio",defaultValue:e.fromStartDate,onChange:function(a){return e.onChange(a.target.value,"from")}}))),r.a.createElement(i.a,{md:6},r.a.createElement(s.a,null,r.a.createElement(c.a,{for:"exampleDate"},"A"),r.a.createElement(o.a,{type:"date",name:"date",id:"to",placeholder:"Data Fine",defaultValue:e.toStartDate,onChange:function(a){return e.onChange(a.target.value,"to")}}))))}},208:function(e,a,t){"use strict";var n=t(12),r=t(13),l=t(15),i=t(14),s=t(16),c=t(1),o=t.n(c),u=t(212),p=function(e){function a(){return Object(n.a)(this,a),Object(l.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){u.isMobile&&document.querySelector(".cr-sidebar").classList.toggle("cr-sidebar--open")}}]),a}(o.a.Component);a.a=p},209:function(e,a,t){"use strict";var n=t(1),r=t.n(n);a.a=function(e){return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:e.colspan},e.children||"Nessun dato presente"))}},210:function(e,a,t){"use strict";a.a=function(e){var a=new Date(e),t=""+(a.getMonth()+1),n=""+a.getDate(),r=a.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[r,t,n].join("-")}},219:function(e,a,t){"use strict";var n=t(12),r=t(13),l=t(15),i=t(14),s=t(16),c=t(1),o=t.n(c),u=t(181),p=t(183),m=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(s)))).handleChangePagination=function(e){t.props.handleChangePagination(e.currentTarget.value)},t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){for(var e=[],a=0;a<this.props.options.length;a++)e.push(o.a.createElement("option",{key:this.props.options[a],value:this.props.options[a]},this.props.options[a]));return o.a.createElement(u.a,null,o.a.createElement("label",null,"Elementi per pagina:"),o.a.createElement(p.a,{type:"select",name:"select",id:"per_page",onChange:this.handleChangePagination},e))}}]),a}(c.Component);a.a=m},220:function(e,a,t){"use strict";var n=t(12),r=t(13),l=t(15),i=t(14),s=t(16),c=t(60),o=t(1),u=t.n(o),p=t(5),m=t(6),h=t(0),g=t.n(h),d=t(4),b=t.n(d),E=t(2),f={active:g.a.bool,children:g.a.node,className:g.a.string,cssModule:g.a.object,disabled:g.a.bool,tag:E.p},v=function(e){var a=e.active,t=e.className,n=e.cssModule,r=e.disabled,l=e.tag,i=Object(m.a)(e,["active","className","cssModule","disabled","tag"]),s=Object(E.l)(b()(t,"page-item",{active:a,disabled:r}),n);return u.a.createElement(l,Object(p.a)({},i,{className:s}))};v.propTypes=f,v.defaultProps={tag:"li"};var y=v,P={"aria-label":g.a.string,children:g.a.node,className:g.a.string,cssModule:g.a.object,next:g.a.bool,previous:g.a.bool,tag:E.p},C=function(e){var a,t=e.className,n=e.cssModule,r=e.next,l=e.previous,i=e.tag,s=Object(m.a)(e,["className","cssModule","next","previous","tag"]),c=Object(E.l)(b()(t,"page-link"),n);l?a="Previous":r&&(a="Next");var o,h=e["aria-label"]||a;l?o="\xab":r&&(o="\xbb");var g=e.children;return g&&Array.isArray(g)&&0===g.length&&(g=null),s.href||"a"!==i||(i="button"),(l||r)&&(g=[u.a.createElement("span",{"aria-hidden":"true",key:"caret"},g||o),u.a.createElement("span",{className:"sr-only",key:"sr"},h)]),u.a.createElement(i,Object(p.a)({},s,{className:c,"aria-label":h}),g)};C.propTypes=P,C.defaultProps={tag:"a"};var j=C,O=t(183),k={children:g.a.node,className:g.a.string,listClassName:g.a.string,cssModule:g.a.object,size:g.a.string,tag:E.p,listTag:E.p,"aria-label":g.a.string},N=function(e){var a,t=e.className,n=e.listClassName,r=e.cssModule,l=e.size,i=e.tag,s=e.listTag,c=e["aria-label"],o=Object(m.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),h=Object(E.l)(b()(t),r),g=Object(E.l)(b()(n,"pagination",((a={})["pagination-"+l]=!!l,a)),r);return u.a.createElement(i,{className:h,"aria-label":c},u.a.createElement(s,Object(p.a)({},o,{className:g})))};N.propTypes=k,N.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"};var S=N,F=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(i.a)(a).call(this,e))).handleChangePage=function(e){var a=e.currentTarget.value>t.props.lastPage?t.props.lastPage:e.currentTarget.value;t.props.handleChangePage(a)},t.handleChangePage=t.handleChangePage.bind(Object(c.a)(Object(c.a)(t))),t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){for(var e=[],a=2;a>0;a--)this.props.currentPage-a>1&&e.push(u.a.createElement(y,{key:this.props.currentPage-a,active:this.props.currentPage===a},u.a.createElement(j,{value:this.props.currentPage-a,onClick:this.handleChangePage},this.props.currentPage-a)));e.push(u.a.createElement(y,{key:a,active:this.props.currentPage===a},u.a.createElement(O.a,{value:this.props.currentPage,type:"number",className:"page-link",style:{width:"100px",fontWeight:"bold"},onChange:this.handleChangePage})));for(a=1;a<3;a++)this.props.currentPage+a<this.props.lastPage&&e.push(u.a.createElement(y,{key:this.props.currentPage+a,active:this.props.currentPage===a},u.a.createElement(j,{value:this.props.currentPage+a,onClick:this.handleChangePage},this.props.currentPage+a)));return u.a.createElement(S,{"aria-label":"Page navigation example"},u.a.createElement(y,{disabled:1===this.props.currentPage,value:"1",key:"first",onClick:this.handleChangePage},u.a.createElement(j,null,"1")),u.a.createElement(y,{disabled:1===this.props.currentPage,value:this.props.currentPage-1,onClick:this.handleChangePage},u.a.createElement(j,{key:"prev",previous:!0})),e,u.a.createElement(y,{disabled:this.props.currentPage===this.props.lastPage,value:this.props.currentPage+1,onClick:this.handleChangePage},u.a.createElement(j,{key:"next",next:!0})),u.a.createElement(y,{disabled:this.props.currentPage===this.props.lastPage,value:this.props.lastPage,onClick:this.handleChangePage},u.a.createElement(j,{key:"last"},this.props.lastPage)))}}]),a}(o.Component);a.a=F},442:function(e,a,t){"use strict";t.r(a);var n=t(12),r=t(13),l=t(15),i=t(14),s=t(16),c=t(205),o=t(0),u=t.n(o),p=t(1),m=t.n(p),h=t(19),g=t(197),d=t(198),b=t(172),E=t(177),f=t(173),v=t(192),y=t(181),P=t(182),C=t(183),j=t(178),O=t(427),k=t(30),N=t(207),S=t(48),F=t.n(S),x=t(42),T=t(209),D=t(208),M=t(9),w=t(210),z=t(220),A=t(219),_=new Date,L=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(s)))).state={filters:{open:!0,from:Object(w.a)(new Date(_.getFullYear(),_.getMonth(),1)),to:Object(w.a)(new Date),year:null,type:null},paginateOptions:[10,20,30],currentPage:null,paginateElements:10},t.handleSubmit=function(){if(null!==t.state.filters.type&&""!==t.state.filters.type){var e=t.state.searchClicked;t.setState({searchClicked:!e}),t.props.onLoadStats(t.state.currentPage,t.state.paginateElements,t.state.filters,[],null)}else t.notifyMissingField("Seleziona tipo")},t.handleChangePagination=function(e){t.setState({paginateElements:e},function(){t.handleSubmit()})},t.handleChangePage=function(e){t.setState({currentPage:e},function(){t.handleSubmit()})},t.handleFilterChange=function(e,a){var n=t.state.filters;n[a]=e,t.setState({filters:n})},t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"notifyMissingField",value:function(e){this.notificationSystem&&this.notificationSystem.addNotification({title:m.a.createElement(M.f,null),message:e,level:"error"})}},{key:"render",value:function(){var e=this,a=this.props.stats,t=null,n=0,r=0,l=0,i=m.a.createElement(T.a,{colspan:6});return!1===this.props.loading&&!1===this.props.error&&null!==this.props.stats&&(i=a.map(function(e,a){var t=parseFloat(e.attributes.have.replace(",",".")),i=parseFloat(e.attributes.give.replace(",","."));return r+=i,n+=t,l+=i-t,m.a.createElement("tr",{key:a},m.a.createElement("td",null,e.attributes.card_type),m.a.createElement("td",null,e.attributes.business_name),m.a.createElement("td",null,e.attributes.vat_number),m.a.createElement("td",null,i),m.a.createElement("td",null,t),m.a.createElement("td",null,(i-t).toFixed(2)))}),t=m.a.createElement(z.a,{currentPage:null!=this.props.pagination?this.props.pagination.current_page:null,lastPage:null!=this.props.pagination?this.props.pagination.last_page:null,handleChangePage:this.handleChangePage.bind(this)})),m.a.createElement(c.a,{title:"Sitauzione contabile",breadcrumbs:[{name:"situazione contabile",active:!0}]},m.a.createElement(g.a,null,m.a.createElement(d.a,null,m.a.createElement(b.a,{className:"mb-3"},m.a.createElement(E.a,null,"Filtri"),m.a.createElement(f.a,null,m.a.createElement(v.a,{onSubmit:this.handleSubmit},m.a.createElement(g.a,null,m.a.createElement(d.a,{md:4},m.a.createElement(y.a,null,m.a.createElement(P.a,{for:"type"},"Tipo scheda"),m.a.createElement(C.a,{type:"select",name:"type",id:"type",onChange:function(a){return e.handleFilterChange(a.target.value,"type")}},m.a.createElement("option",null),m.a.createElement("option",{value:"C"},"Cliente"),m.a.createElement("option",{value:"F"},"Fornitore")))),m.a.createElement(d.a,{md:4},m.a.createElement(y.a,null,m.a.createElement(P.a,{for:"year"},"Anno"),m.a.createElement(C.a,{type:"number",name:"year",id:"year",onChange:function(a){return e.handleFilterChange(a.target.value,"year")}}))),m.a.createElement(d.a,{md:4},m.a.createElement(y.a,{check:!0},m.a.createElement(P.a,{check:!0},m.a.createElement(C.a,{type:"checkbox",name:"open",checked:this.state.filters.open,onChange:function(a){return e.handleFilterChange(a.target.checked,"open")}})," ","Solo partite aperte")))),m.a.createElement(N.a,{onChange:this.handleFilterChange.bind(this),fromStartDate:this.state.filters.from,toStartDate:this.state.filters.to}),m.a.createElement(g.a,null,m.a.createElement(d.a,null,m.a.createElement(j.a,{color:"primary",disabled:this.props.loading&&this.state.searchClicked,onClick:this.handleSubmit},"Cerca")))))),m.a.createElement(E.a,null,m.a.createElement(g.a,null,m.a.createElement(d.a,{sm:"12",md:{size:3,offset:9}},m.a.createElement(A.a,{options:this.state.paginateOptions,handleChangePagination:this.handleChangePagination})))),m.a.createElement(b.a,{className:"mb-3"},m.a.createElement(f.a,null,m.a.createElement(O.a,{responsive:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Tipo"),m.a.createElement("th",null,"Ragione sociale"),m.a.createElement("th",null,"Partita iva"),m.a.createElement("th",null,"Dare \u20ac"),m.a.createElement("th",null,"Avere \u20ac"),m.a.createElement("th",null,"Saldo finale \u20ac"))),m.a.createElement("tbody",null,i),m.a.createElement("tfoot",null,m.a.createElement("tr",null,m.a.createElement("th",{colSpan:"3"},"TOTALI:"),m.a.createElement("td",null,"\u20ac ",r.toFixed(2)),m.a.createElement("td",null,"\u20ac ",n.toFixed(2)),m.a.createElement("td",null,"\u20ac ",l.toFixed(2))))))))),t,m.a.createElement(F.a,{dismissible:!1,ref:function(a){return e.notificationSystem=a},style:x.d}))}}]),a}(D.a);L.contextTypes={store:u.a.object},L.propTypes={notifications:u.a.array,stats:u.a.array,loading:u.a.bool,error:u.a.bool};a.default=Object(h.connect)(function(e){return{stats:e.statistics.accountingCardStatistics,loading:e.statistics.loading,error:e.statistics.error,notifications:e.notifications,pagination:e.statistics.pagination}},function(e){return{onLoadStats:function(a,t,n,r,l){return e(k.d(a,t,n,r,l))}}})(L)}}]);
//# sourceMappingURL=13.2680bfa6.chunk.js.map