(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{205:function(e,a,t){"use strict";var n=t(11),r=t(1),l=t.n(r),s=(t(27),t(36)),c=t(237),i=t(238),o=t(58),u=s.a.create("page"),d=function(e){var a=e.title,t=e.breadcrumbs,r=e.tag,s=e.className,d=e.children,m=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),p=u.b("px-3",s);return l.a.createElement(r,Object.assign({className:p},m),l.a.createElement("div",{className:u.e("header")},a&&"string"===typeof a?l.a.createElement(o.a,{type:"h1",className:u.e("title")},a):a,t&&l.a.createElement(c.a,{className:u.e("breadcrumb")},l.a.createElement(i.a,null,"Home"),t.length&&t.map(function(e,a){var t=e.name,n=e.active;return l.a.createElement(i.a,{key:a,active:n},t)}))),d)};d.defaultProps={tag:"div",title:""},a.a=d},207:function(e,a,t){"use strict";var n=t(1),r=t.n(n),l=t(197),s=t(198),c=t(181),i=t(182),o=t(183);a.a=function(e){return r.a.createElement(l.a,null,r.a.createElement(s.a,{md:6},r.a.createElement(c.a,null,r.a.createElement(i.a,{for:"from"},"Da"),r.a.createElement(o.a,{type:"date",name:"from",id:"from",placeholder:"Data inizio",defaultValue:e.fromStartDate,onChange:function(a){return e.onChange(a.target.value,"from")}}))),r.a.createElement(s.a,{md:6},r.a.createElement(c.a,null,r.a.createElement(i.a,{for:"exampleDate"},"A"),r.a.createElement(o.a,{type:"date",name:"date",id:"to",placeholder:"Data Fine",defaultValue:e.toStartDate,onChange:function(a){return e.onChange(a.target.value,"to")}}))))}},209:function(e,a,t){"use strict";var n=t(1),r=t.n(n);a.a=function(e){return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:e.colspan},e.children||"Nessun dato presente"))}},210:function(e,a,t){"use strict";a.a=function(e){var a=new Date(e),t=""+(a.getMonth()+1),n=""+a.getDate(),r=a.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[r,t,n].join("-")}},217:function(e,a,t){"use strict";t.d(a,"a",function(){return n});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary";return"undefined"===typeof window?null:window.getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))}},219:function(e,a,t){"use strict";var n=t(12),r=t(13),l=t(15),s=t(14),c=t(16),i=t(1),o=t.n(i),u=t(181),d=t(183),m=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(c)))).handleChangePagination=function(e){t.props.handleChangePagination(e.currentTarget.value)},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){for(var e=[],a=0;a<this.props.options.length;a++)e.push(o.a.createElement("option",{key:this.props.options[a],value:this.props.options[a]},this.props.options[a]));return o.a.createElement(u.a,null,o.a.createElement("label",null,"Elementi per pagina:"),o.a.createElement(d.a,{type:"select",name:"select",id:"per_page",onChange:this.handleChangePagination},e))}}]),a}(i.Component);a.a=m},220:function(e,a,t){"use strict";var n=t(12),r=t(13),l=t(15),s=t(14),c=t(16),i=t(60),o=t(1),u=t.n(o),d=t(5),m=t(6),p=t(0),h=t.n(p),g=t(4),b=t.n(g),f=t(2),E={active:h.a.bool,children:h.a.node,className:h.a.string,cssModule:h.a.object,disabled:h.a.bool,tag:f.p},v=function(e){var a=e.active,t=e.className,n=e.cssModule,r=e.disabled,l=e.tag,s=Object(m.a)(e,["active","className","cssModule","disabled","tag"]),c=Object(f.l)(b()(t,"page-item",{active:a,disabled:r}),n);return u.a.createElement(l,Object(d.a)({},s,{className:c}))};v.propTypes=E,v.defaultProps={tag:"li"};var y=v,N={"aria-label":h.a.string,children:h.a.node,className:h.a.string,cssModule:h.a.object,next:h.a.bool,previous:h.a.bool,tag:f.p},P=function(e){var a,t=e.className,n=e.cssModule,r=e.next,l=e.previous,s=e.tag,c=Object(m.a)(e,["className","cssModule","next","previous","tag"]),i=Object(f.l)(b()(t,"page-link"),n);l?a="Previous":r&&(a="Next");var o,p=e["aria-label"]||a;l?o="\xab":r&&(o="\xbb");var h=e.children;return h&&Array.isArray(h)&&0===h.length&&(h=null),c.href||"a"!==s||(s="button"),(l||r)&&(h=[u.a.createElement("span",{"aria-hidden":"true",key:"caret"},h||o),u.a.createElement("span",{className:"sr-only",key:"sr"},p)]),u.a.createElement(s,Object(d.a)({},c,{className:i,"aria-label":p}),h)};P.propTypes=N,P.defaultProps={tag:"a"};var C=P,j=t(183),x={children:h.a.node,className:h.a.string,listClassName:h.a.string,cssModule:h.a.object,size:h.a.string,tag:f.p,listTag:f.p,"aria-label":h.a.string},O=function(e){var a,t=e.className,n=e.listClassName,r=e.cssModule,l=e.size,s=e.tag,c=e.listTag,i=e["aria-label"],o=Object(m.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),p=Object(f.l)(b()(t),r),h=Object(f.l)(b()(n,"pagination",((a={})["pagination-"+l]=!!l,a)),r);return u.a.createElement(s,{className:p,"aria-label":i},u.a.createElement(c,Object(d.a)({},o,{className:h})))};O.propTypes=x,O.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"};var S=O,k=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(s.a)(a).call(this,e))).handleChangePage=function(e){var a=e.currentTarget.value>t.props.lastPage?t.props.lastPage:e.currentTarget.value;t.props.handleChangePage(a)},t.handleChangePage=t.handleChangePage.bind(Object(i.a)(Object(i.a)(t))),t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){for(var e=[],a=2;a>0;a--)this.props.currentPage-a>1&&e.push(u.a.createElement(y,{key:this.props.currentPage-a,active:this.props.currentPage===a},u.a.createElement(C,{value:this.props.currentPage-a,onClick:this.handleChangePage},this.props.currentPage-a)));e.push(u.a.createElement(y,{key:a,active:this.props.currentPage===a},u.a.createElement(j.a,{value:this.props.currentPage,type:"number",className:"page-link",style:{width:"100px",fontWeight:"bold"},onChange:this.handleChangePage})));for(a=1;a<3;a++)this.props.currentPage+a<this.props.lastPage&&e.push(u.a.createElement(y,{key:this.props.currentPage+a,active:this.props.currentPage===a},u.a.createElement(C,{value:this.props.currentPage+a,onClick:this.handleChangePage},this.props.currentPage+a)));return u.a.createElement(S,{"aria-label":"Page navigation example"},u.a.createElement(y,{disabled:1===this.props.currentPage,value:"1",key:"first",onClick:this.handleChangePage},u.a.createElement(C,null,"1")),u.a.createElement(y,{disabled:1===this.props.currentPage,value:this.props.currentPage-1,onClick:this.handleChangePage},u.a.createElement(C,{key:"prev",previous:!0})),e,u.a.createElement(y,{disabled:this.props.currentPage===this.props.lastPage,value:this.props.currentPage+1,onClick:this.handleChangePage},u.a.createElement(C,{key:"next",next:!0})),u.a.createElement(y,{disabled:this.props.currentPage===this.props.lastPage,value:this.props.lastPage,onClick:this.handleChangePage},u.a.createElement(C,{key:"last"},this.props.lastPage)))}}]),a}(o.Component);a.a=k},237:function(e,a,t){"use strict";var n=t(5),r=t(6),l=t(1),s=t.n(l),c=t(0),i=t.n(c),o=t(4),u=t.n(o),d=t(2),m={tag:d.p,listTag:d.p,className:i.a.string,listClassName:i.a.string,cssModule:i.a.object,children:i.a.node,"aria-label":i.a.string},p=function(e){var a=e.className,t=e.listClassName,l=e.cssModule,c=e.children,i=e.tag,o=e.listTag,m=e["aria-label"],p=Object(r.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),h=Object(d.l)(u()(a),l),g=Object(d.l)(u()("breadcrumb",t),l);return s.a.createElement(i,Object(n.a)({},p,{className:h,"aria-label":m}),s.a.createElement(o,{className:g},c))};p.propTypes=m,p.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},a.a=p},238:function(e,a,t){"use strict";var n=t(5),r=t(6),l=t(1),s=t.n(l),c=t(0),i=t.n(c),o=t(4),u=t.n(o),d=t(2),m={tag:d.p,active:i.a.bool,className:i.a.string,cssModule:i.a.object},p=function(e){var a=e.className,t=e.cssModule,l=e.active,c=e.tag,i=Object(r.a)(e,["className","cssModule","active","tag"]),o=Object(d.l)(u()(a,!!l&&"active","breadcrumb-item"),t);return s.a.createElement(c,Object(n.a)({},i,{className:o,"aria-current":l?"page":void 0}))};p.propTypes=m,p.defaultProps={tag:"li"},a.a=p},427:function(e,a,t){"use strict";var n=t(5),r=t(6),l=t(1),s=t.n(l),c=t(0),i=t.n(c),o=t(4),u=t.n(o),d=t(2),m={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,inverse:Object(d.h)(i.a.bool,'Please use the prop "dark"'),dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:d.p,responsiveTag:d.p,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},p=function(e){var a=e.className,t=e.cssModule,l=e.size,c=e.bordered,i=e.borderless,o=e.striped,m=e.inverse,p=e.dark,h=e.hover,g=e.responsive,b=e.tag,f=e.responsiveTag,E=e.innerRef,v=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","inverse","dark","hover","responsive","tag","responsiveTag","innerRef"]),y=Object(d.l)(u()(a,"table",!!l&&"table-"+l,!!c&&"table-bordered",!!i&&"table-borderless",!!o&&"table-striped",!(!p&&!m)&&"table-dark",!!h&&"table-hover"),t),N=s.a.createElement(b,Object(n.a)({},v,{ref:E,className:y}));if(g){var P=!0===g?"table-responsive":"table-responsive-"+g;return s.a.createElement(f,{className:P},N)}return N};p.propTypes=m,p.defaultProps={tag:"table",responsiveTag:"div"},a.a=p},443:function(e,a,t){"use strict";t.r(a);var n=t(12),r=t(13),l=t(15),s=t(14),c=t(16),i=t(31),o=t(1),u=t.n(o),d=t(0),m=t.n(d),p=t(19),h=t(30),g=t(205),b=t(172),f=t(173),E=t(191),v=t(197),y=t(198),N=t(177),P=t(192),C=t(178),j=t(427),x=t(224),O=t(220),S=t(219),k=t(34),T=t.n(k),D=t(42),M=t(217),w=t(207),_=t(209),F=t(218),z=t(210),A=new Date,R=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(c)))).state={filters:{from:Object(z.a)(new Date(A.getFullYear()-1,A.getMonth(),A.getDate())),to:Object(z.a)(new Date(A.getFullYear(),A.getMonth(),A.getDate()))},searchClicked:!1,touched:!1,paginateOptions:[10,20,30],currentPage:null,paginateElements:10},t.handleChangePage=function(e){t.setState({currentPage:e},function(){t.handleSubmit()})},t.handleChangePagination=function(e){t.setState({paginateElements:e},function(){t.handleSubmit()})},t.handleFilterChange=function(e,a){var n=t.state.filters;n[a]=e,t.setState({filters:n})},t.handleSubmit=function(){var e=t.state.searchClicked;t.setState({searchClicked:!e,touched:!0}),t.props.onLoadStats(t.state.currentPage,t.state.paginateElements,t.state.filters,null,null)},t.handleDetailClick=function(e,a,n){t.handleFilterChange(e,a),t.handleSubmit(),t.changeGroupBy(n)},t.handleReset=function(){var e=t.state.filters;Object.keys(e).forEach(function(a){e[a]=null}),t.setState({filters:e})},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=u.a.createElement(_.a,{colspan:7}),a=null,t=null,n=null,r=this.state.touched,l=this.props,s=l.stats,c=l.loading,o=l.error,d={labels:[],datasets:[{label:"Incasso anno corrente",borderColor:Object(M.a)("primary"),backgroundColor:Object(M.a)("primary"),data:[]},{label:"Incasso anno precedente",borderColor:Object(M.a)("secondary"),backgroundColor:Object(M.a)("secondary"),data:[]}]};if(this.props.loading&&(t=u.a.createElement(b.a,null,u.a.createElement(f.a,null,u.a.createElement(E.a,{color:"primary"})))),!1===c&&!1===o&&null!==s&&!0===r){var m=0,p=0;e=this.props.stats.data.map(function(e){return m+=e.amount,p+=e.amount_prev_year,d.labels.push(e.description),d.datasets[0].data.push(e.amount.toFixed(2)),d.datasets[1].data.push(e.amount_prev_year.toFixed(2)),u.a.createElement("tr",{key:e.id},u.a.createElement("td",{className:"text-left"},e.description),u.a.createElement("td",{className:"text-right"},u.a.createElement(F.a,{value:e.amount,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return u.a.createElement("div",null,e)}})),u.a.createElement("td",{className:"text-right"}," ",(100*e.amount/m).toFixed(2)," %"),u.a.createElement("td",{className:"text-right"},u.a.createElement(F.a,{value:e.amount_prev_year,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return u.a.createElement("div",null,e)}})),u.a.createElement("td",{className:"text-right"},0===p?"0":(100*e.amount_prev_year/p).toFixed(2)," %"),u.a.createElement("td",{className:"text-right"},u.a.createElement(F.a,{value:e.amount-e.amount_prev_year,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return u.a.createElement("div",null,e)}})),u.a.createElement("td",{className:"text-right"},(100*(e.amount-e.amount_prev_year)/e.amount).toFixed(2)," %"))}),a=u.a.createElement("tr",null,u.a.createElement("th",null,"Totale incassi:"),u.a.createElement("td",{className:"text-right"},u.a.createElement(F.a,{value:m,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return u.a.createElement("div",null,e)}})),u.a.createElement("td",{className:"text-right"},"100 %"),u.a.createElement("td",{className:"text-right"},u.a.createElement(F.a,{value:p,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return u.a.createElement("div",null,e)}})),u.a.createElement("td",{className:"text-right"},0===p?"0 %":"100 %"),u.a.createElement("td",{className:"text-right"},u.a.createElement(F.a,{value:m-p,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return u.a.createElement("div",null,e)}})),u.a.createElement("td",{className:"text-right"},(100*(m-p)/m).toFixed(2)," %")),t=u.a.createElement(v.a,null,u.a.createElement(y.a,null,u.a.createElement(b.a,null,u.a.createElement(N.a,null,"Paragone incassi"),u.a.createElement(f.a,null,u.a.createElement(x.Bar,{data:d,options:Object(i.a)({},D.a)}))))),n=u.a.createElement(O.a,{currentPage:this.props.stats.current_page,lastPage:this.props.stats.last_page,handleChangePage:this.handleChangePage.bind(this)})}return u.a.createElement(g.a,{title:"Vendite prodotti",breadcrumbs:[{name:"vendite prodotti",active:!0}]},u.a.createElement(v.a,null,u.a.createElement(y.a,null,u.a.createElement(b.a,{className:"mb-3"},u.a.createElement(N.a,null,"Filtri"),u.a.createElement(f.a,null,u.a.createElement(P.a,{onSubmit:this.handleSubmit},u.a.createElement(w.a,{onChange:this.handleFilterChange.bind(this),fromStartDate:this.state.filters.from,toStartDate:this.state.filters.to}),u.a.createElement(v.a,null,u.a.createElement(y.a,null,u.a.createElement(C.a,{color:"primary",disabled:this.props.loading&&this.state.searchClicked,onClick:this.handleSubmit},"Cerca"),"\xa0",u.a.createElement(C.a,{color:"secondary",disabled:this.props.loading&&this.state.searchClicked,onClick:this.handleReset},"Reset")))))))),t,u.a.createElement(v.a,null,u.a.createElement(y.a,null,u.a.createElement(b.a,null,u.a.createElement(N.a,null,u.a.createElement(v.a,null,u.a.createElement(y.a,{sm:"12",md:{size:3,offset:9}},u.a.createElement(S.a,{options:this.state.paginateOptions,handleChangePagination:this.handleChangePagination})))),u.a.createElement(f.a,null,u.a.createElement(j.a,{responsive:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-left"},"Categoria"),u.a.createElement("th",{className:"text-right"},"Anno corrente \u20ac"),u.a.createElement("th",{className:"text-right"},"Incidenza %"),u.a.createElement("th",{className:"text-right"},"Anno precedente \u20ac"),u.a.createElement("th",{className:"text-right"},"Incidenza %"),u.a.createElement("th",{className:"text-right"},"Diff. val \u20ac"),u.a.createElement("th",{className:"text-right"},"Diff %"))),u.a.createElement("tbody",null,e),u.a.createElement("tfoot",null,a)),n)))),u.a.createElement(T.a,{dismissible:!1,notifications:this.props.notifications,style:D.d}))}}]),a}(o.Component);R.contextTypes={store:m.a.object};a.default=Object(p.connect)(function(e){return{stats:e.statistics.productGroups,loading:e.statistics.loading,error:e.statistics.error,pdfAvaiable:e.statistics.pdfAvaiable,notifications:e.notifications}},function(e){return{onLoadStats:function(a,t,n,r,l){return e(h.k(a,t,n,r,l))}}})(R)}}]);
//# sourceMappingURL=8.1e7101bf.chunk.js.map