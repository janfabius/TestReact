(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{205:function(e,a,t){"use strict";var n=t(11),r=t(1),l=t.n(r),i=(t(27),t(36)),s=t(237),c=t(238),o=t(58),u=i.a.create("page"),p=function(e){var a=e.title,t=e.breadcrumbs,r=e.tag,i=e.className,p=e.children,m=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),h=u.b("px-3",i);return l.a.createElement(r,Object.assign({className:h},m),l.a.createElement("div",{className:u.e("header")},a&&"string"===typeof a?l.a.createElement(o.a,{type:"h1",className:u.e("title")},a):a,t&&l.a.createElement(s.a,{className:u.e("breadcrumb")},l.a.createElement(c.a,null,"Home"),t.length&&t.map(function(e,a){var t=e.name,n=e.active;return l.a.createElement(c.a,{key:a,active:n},t)}))),p)};p.defaultProps={tag:"div",title:""},a.a=p},207:function(e,a,t){"use strict";var n=t(1),r=t.n(n),l=t(197),i=t(198),s=t(181),c=t(182),o=t(183);a.a=function(e){return r.a.createElement(l.a,null,r.a.createElement(i.a,{md:6},r.a.createElement(s.a,null,r.a.createElement(c.a,{for:"from"},"Da"),r.a.createElement(o.a,{type:"date",name:"from",id:"from",placeholder:"Data inizio",defaultValue:e.fromStartDate,onChange:function(a){return e.onChange(a.target.value,"from")}}))),r.a.createElement(i.a,{md:6},r.a.createElement(s.a,null,r.a.createElement(c.a,{for:"exampleDate"},"A"),r.a.createElement(o.a,{type:"date",name:"date",id:"to",placeholder:"Data Fine",defaultValue:e.toStartDate,onChange:function(a){return e.onChange(a.target.value,"to")}}))))}},208:function(e,a,t){"use strict";var n=t(12),r=t(13),l=t(15),i=t(14),s=t(16),c=t(1),o=t.n(c),u=t(212),p=function(e){function a(){return Object(n.a)(this,a),Object(l.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){u.isMobile&&document.querySelector(".cr-sidebar").classList.toggle("cr-sidebar--open")}}]),a}(o.a.Component);a.a=p},209:function(e,a,t){"use strict";var n=t(1),r=t.n(n);a.a=function(e){return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:e.colspan},e.children||"Nessun dato presente"))}},210:function(e,a,t){"use strict";a.a=function(e){var a=new Date(e),t=""+(a.getMonth()+1),n=""+a.getDate(),r=a.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[r,t,n].join("-")}},213:function(e,a,t){"use strict";var n=t(1),r=t.n(n),l=t(198),i=t(181),s=t(182),c=t(211),o=t(10);a.a=function(e){return r.a.createElement(l.a,{md:6},r.a.createElement(i.a,null,r.a.createElement(s.a,{for:"exampleUrl"},"Filiale"),r.a.createElement(c.a,{isClearable:!0,cacheOptions:!0,loadOptions:function(e){var a="affiliates".concat(e?"?filter[text]="+e:"");return o.a.get(a).then(function(e){return e.data.data.map(function(e){return{value:e.id,label:e.attributes.name}})}).catch(function(e){console.log("some error",e)})},defaultOptions:!0,onChange:function(a){return function(a){var t=a?a.value:null;e.onChange(t,"affiliate_id")}(a)}})))}},219:function(e,a,t){"use strict";var n=t(12),r=t(13),l=t(15),i=t(14),s=t(16),c=t(1),o=t.n(c),u=t(181),p=t(183),m=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(s)))).handleChangePagination=function(e){t.props.handleChangePagination(e.currentTarget.value)},t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){for(var e=[],a=0;a<this.props.options.length;a++)e.push(o.a.createElement("option",{key:this.props.options[a],value:this.props.options[a]},this.props.options[a]));return o.a.createElement(u.a,null,o.a.createElement("label",null,"Elementi per pagina:"),o.a.createElement(p.a,{type:"select",name:"select",id:"per_page",onChange:this.handleChangePagination},e))}}]),a}(c.Component);a.a=m},220:function(e,a,t){"use strict";var n=t(12),r=t(13),l=t(15),i=t(14),s=t(16),c=t(60),o=t(1),u=t.n(o),p=t(5),m=t(6),h=t(0),g=t.n(h),d=t(4),f=t.n(d),b=t(2),E={active:g.a.bool,children:g.a.node,className:g.a.string,cssModule:g.a.object,disabled:g.a.bool,tag:b.p},v=function(e){var a=e.active,t=e.className,n=e.cssModule,r=e.disabled,l=e.tag,i=Object(m.a)(e,["active","className","cssModule","disabled","tag"]),s=Object(b.l)(f()(t,"page-item",{active:a,disabled:r}),n);return u.a.createElement(l,Object(p.a)({},i,{className:s}))};v.propTypes=E,v.defaultProps={tag:"li"};var y=v,P={"aria-label":g.a.string,children:g.a.node,className:g.a.string,cssModule:g.a.object,next:g.a.bool,previous:g.a.bool,tag:b.p},C=function(e){var a,t=e.className,n=e.cssModule,r=e.next,l=e.previous,i=e.tag,s=Object(m.a)(e,["className","cssModule","next","previous","tag"]),c=Object(b.l)(f()(t,"page-link"),n);l?a="Previous":r&&(a="Next");var o,h=e["aria-label"]||a;l?o="\xab":r&&(o="\xbb");var g=e.children;return g&&Array.isArray(g)&&0===g.length&&(g=null),s.href||"a"!==i||(i="button"),(l||r)&&(g=[u.a.createElement("span",{"aria-hidden":"true",key:"caret"},g||o),u.a.createElement("span",{className:"sr-only",key:"sr"},h)]),u.a.createElement(i,Object(p.a)({},s,{className:c,"aria-label":h}),g)};C.propTypes=P,C.defaultProps={tag:"a"};var j=C,O=t(183),S={children:g.a.node,className:g.a.string,listClassName:g.a.string,cssModule:g.a.object,size:g.a.string,tag:b.p,listTag:b.p,"aria-label":g.a.string},N=function(e){var a,t=e.className,n=e.listClassName,r=e.cssModule,l=e.size,i=e.tag,s=e.listTag,c=e["aria-label"],o=Object(m.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),h=Object(b.l)(f()(t),r),g=Object(b.l)(f()(n,"pagination",((a={})["pagination-"+l]=!!l,a)),r);return u.a.createElement(i,{className:h,"aria-label":c},u.a.createElement(s,Object(p.a)({},o,{className:g})))};N.propTypes=S,N.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"};var k=N,x=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(i.a)(a).call(this,e))).handleChangePage=function(e){var a=e.currentTarget.value>t.props.lastPage?t.props.lastPage:e.currentTarget.value;t.props.handleChangePage(a)},t.handleChangePage=t.handleChangePage.bind(Object(c.a)(Object(c.a)(t))),t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){for(var e=[],a=2;a>0;a--)this.props.currentPage-a>1&&e.push(u.a.createElement(y,{key:this.props.currentPage-a,active:this.props.currentPage===a},u.a.createElement(j,{value:this.props.currentPage-a,onClick:this.handleChangePage},this.props.currentPage-a)));e.push(u.a.createElement(y,{key:a,active:this.props.currentPage===a},u.a.createElement(O.a,{value:this.props.currentPage,type:"number",className:"page-link",style:{width:"100px",fontWeight:"bold"},onChange:this.handleChangePage})));for(a=1;a<3;a++)this.props.currentPage+a<this.props.lastPage&&e.push(u.a.createElement(y,{key:this.props.currentPage+a,active:this.props.currentPage===a},u.a.createElement(j,{value:this.props.currentPage+a,onClick:this.handleChangePage},this.props.currentPage+a)));return u.a.createElement(k,{"aria-label":"Page navigation example"},u.a.createElement(y,{disabled:1===this.props.currentPage,value:"1",key:"first",onClick:this.handleChangePage},u.a.createElement(j,null,"1")),u.a.createElement(y,{disabled:1===this.props.currentPage,value:this.props.currentPage-1,onClick:this.handleChangePage},u.a.createElement(j,{key:"prev",previous:!0})),e,u.a.createElement(y,{disabled:this.props.currentPage===this.props.lastPage,value:this.props.currentPage+1,onClick:this.handleChangePage},u.a.createElement(j,{key:"next",next:!0})),u.a.createElement(y,{disabled:this.props.currentPage===this.props.lastPage,value:this.props.lastPage,onClick:this.handleChangePage},u.a.createElement(j,{key:"last"},this.props.lastPage)))}}]),a}(o.Component);a.a=x},439:function(e,a,t){"use strict";t.r(a);var n=t(12),r=t(13),l=t(15),i=t(14),s=t(16),c=t(205),o=t(0),u=t.n(o),p=t(1),m=t.n(p),h=t(19),g=t(197),d=t(198),f=t(172),b=t(177),E=t(173),v=t(192),y=t(178),P=t(427),C=t(30),j=t(207),O=t(213),S=t(48),N=t.n(S),k=t(42),x=t(209),D=t(9),T=t(208),M=t(210),w=t(220),F=t(219),z=t(218),_=new Date,A=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(s)))).state={filters:{affiliate_id:null,from:Object(M.a)(new Date(_.getFullYear(),_.getMonth(),1)),to:Object(M.a)(new Date)},paginateOptions:[10,20,30],currentPage:null,paginateElements:10},t.handleSubmit=function(){if(null!==t.state.filters.affiliate_id)if(null!==t.state.filters.from)if(null!==t.state.filters.to){var e=t.state.searchClicked;t.setState({searchClicked:!e}),t.props.onLoadStats(t.state.currentPage,t.state.paginateElements,t.state.filters,[],null)}else t.notifyMissingField("Seleziona la data fine");else t.notifyMissingField("Seleziona la data inizio");else t.notifyMissingField("Seleziona la filiale")},t.handleFilterChange=function(e,a){var n=t.state.filters;n[a]=e,t.setState({filters:n})},t.handleChangePagination=function(e){t.setState({paginateElements:e},function(){t.handleSubmit()})},t.handleChangePage=function(e){t.setState({currentPage:e},function(){t.handleSubmit()})},t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"notifyMissingField",value:function(e){this.notificationSystem&&this.notificationSystem.addNotification({title:m.a.createElement(D.f,null),message:e,level:"error"})}},{key:"render",value:function(){var e=this,a=this.props.stats,t=null,n=m.a.createElement(x.a,{colspan:5});return!1===this.props.loading&&!1===this.props.error&&null!==this.props.stats&&(n=a.map(function(e,a){return m.a.createElement("tr",{key:a},m.a.createElement("td",{className:"text-right"},e.attributes.barcode),m.a.createElement("td",null,e.attributes.description),m.a.createElement("td",{className:"text-right"},m.a.createElement(z.a,{value:null===e.attributes.existence?0:e.attributes.existence,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return m.a.createElement("div",null,e)}})),m.a.createElement("td",{className:"text-right"},m.a.createElement(z.a,{value:e.attributes.quantity,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return m.a.createElement("div",null,e)}})),m.a.createElement("td",{className:"text-right"},m.a.createElement(z.a,{value:e.attributes.spent_amount,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return m.a.createElement("div",null,e)}})))}),t=m.a.createElement(w.a,{currentPage:null!=this.props.pagination?this.props.pagination.current_page:null,lastPage:null!=this.props.pagination?this.props.pagination.last_page:null,handleChangePage:this.handleChangePage.bind(this)})),m.a.createElement(c.a,{title:"Lista articoli",breadcrumbs:[{name:"lista articoli",active:!0}]},m.a.createElement(g.a,null,m.a.createElement(d.a,null,m.a.createElement(f.a,{className:"mb-3"},m.a.createElement(b.a,null,"Filtri"),m.a.createElement(E.a,null,m.a.createElement(v.a,{onSubmit:this.handleSubmit},m.a.createElement(j.a,{onChange:this.handleFilterChange.bind(this),fromStartDate:this.state.filters.from,toStartDate:this.state.filters.to}),m.a.createElement(g.a,null,m.a.createElement(O.a,{onChange:this.handleFilterChange.bind(this)})),m.a.createElement(g.a,null,m.a.createElement(d.a,null,m.a.createElement(y.a,{color:"primary",disabled:this.props.loading&&this.state.searchClicked,onClick:this.handleSubmit},"Cerca")))))),m.a.createElement(f.a,{className:"mb-3"},m.a.createElement(b.a,null,m.a.createElement(g.a,null,m.a.createElement(d.a,{sm:"12",md:{size:3,offset:9}},m.a.createElement(F.a,{options:this.state.paginateOptions,handleChangePagination:this.handleChangePagination})))),m.a.createElement(E.a,null,m.a.createElement(P.a,{responsive:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Barcode"),m.a.createElement("th",null,"Descrizione"),m.a.createElement("th",{className:"text-right"},"Esistenza"),m.a.createElement("th",{className:"text-right"},"Venduto"),m.a.createElement("th",{className:"text-right"},"Incassato"))),m.a.createElement("tbody",null,n)))))),t,m.a.createElement(N.a,{dismissible:!1,ref:function(a){return e.notificationSystem=a},style:k.d}))}}]),a}(T.a);A.contextTypes={store:u.a.object},A.propTypes={notifications:u.a.array,stats:u.a.array,loading:u.a.bool,error:u.a.bool};a.default=Object(h.connect)(function(e){return{stats:e.statistics.selledProductsStatistics,loading:e.statistics.loading,error:e.statistics.error,notifications:e.notifications,pagination:e.statistics.pagination}},function(e){return{onLoadStats:function(a,t,n,r,l){return e(C.o(a,t,n,r,l))}}})(A)}}]);
//# sourceMappingURL=10.606bbace.chunk.js.map